# 数据

对数据源的抽象定义，提供字段和接口（？可以考虑使用spark.DataFrame）

### 如何建立模型

系统需要用户输入特征，输入希望预测的结果，因需要用户参与，
需考虑提供用户咨询服务，避免用户陷入困惑

- 用户选择希望预测的结果
- 用户挑选输入的数据
- 启动模型训练，获得模型的评估量度
- 模型上线，启动模型服务

### 消息定义

/where/who/when/what/how/why
/厂家/业务/{服|区域}/用户/行为{购买|点击|...}/参数/上下文

如何处理第三方数据更新？
/厂家/业务/商品/行为{添加|更新}/参数

### 数据例子

| user | action1     | action2       | action3     |
|------|-------------|---------------|-------------|
|user1 | login:time  | buy:item1     | award:item7 |
|user2 | login:time  | buy:item3     |   .....     |

| item   | cost  | type  |
|--------|-------|-------|
| item1  | cost1 | type3 |

### 数据常用格式

配合Restful的流行，json被广泛采用

### 消息保存

mongodb，无需建表，适应用户弹性格式存储需求

- 如何提取参数内容：用户自定义参数
- 如何提取上下文：用户自定义参数

### 结果预测

- /厂家/业务/{服|区域}/用户/行为模型/参数 => 结果
- 用户真实行为结果记录
- 后台离线服务持续计算效果？？跟踪模型的效率？
